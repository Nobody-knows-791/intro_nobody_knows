<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - NOBODY KNOWS</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Playfair+Display:wght@400;700&family=Lora:wght@400;700&family=Uncial+Antiqua&display=swap" rel="stylesheet">
    <style>
        .contact-section {
            max-width: 600px;
            margin: 50px auto;
            text-align: center;
            display: block; /* Ensure it shows */
        }
        .contact-section form {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 150" fill="#1C2526"><rect x="5" y="5" width="90" height="140" rx="5"/></svg>') no-repeat center;
            background-size: cover;
            padding: 30px;
            border: 1px solid #333333;
            border-radius: 10px;
            box-shadow: 0 0 10px #1E90FF;
            display: block; /* Ensure form is visible */
        }
        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }
        .form-group label {
            display: block;
            font-family: 'Uncial Antiqua', cursive;
            color: #1E90FF;
            margin-bottom: 5px;
        }
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            background: #000000;
            border: 1px solid #333333;
            border-radius: 5px;
            color: #EDE4D3;
            font-family: 'Lora', serif;
        }
        .form-group textarea {
            height: 100px;
            resize: none;
        }
        .contact-section button {
            margin: 10px 0;
        }
        .error-message {
            color: #1E90FF;
            margin-top: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <!-- Background -->
    <div class="glossy-bg"></div>

    <!-- Contact Section -->
    <section class="contact-section">
        <h2>SEND A MESSAGE</h2>
        <form id="contact-form">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="message">Message</label>
                <textarea id="message" name="message" required></textarea>
            </div>
            <button type="submit" class="gothic-btn">Send</button>
        </form>
        <p class="error-message">Please configure Telegram Bot Token and Chat ID in the script to enable sending. Redirecting to home...</p>
        <a href="index.html"><button class="gothic-btn">Back to Home</button></a>
    </section>

    <script>
        // Form Submission to Telegram with Fallback
document.getElementById('contact-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const message = document.getElementById('message').value;
    const errorMessage = document.querySelector('.error-message');
    const telegramBotToken = '7012929916:AAH1Y87yM9xHPWLm09bcER9XSib0lGHQCIY';
    const chatId = '-1002063963254';
    const text = `New Contact Form Submission:\nName: ${name}\nEmail: ${email}\nMessage: ${message}`;

    errorMessage.style.display = 'none'; // Hide error message initially

    if (!telegramBotToken || !chatId) {
        errorMessage.textContent = 'Error: Telegram Bot Token or Chat ID is missing.';
        errorMessage.style.display = 'block';
        setTimeout(() => {
            window.location.href = 'index.html';
        }, 3000);
        return;
    }

    try {
        const response = await fetch(`https://api.telegram.org/bot${telegramBotToken}/sendMessage`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ chat_id: chatId, text })
        });

        if (response.ok) {
            alert('Message sent successfully! Redirecting to home...');
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1000);
        } else {
            const errorData = await response.json();
            errorMessage.textContent = `Failed to send message: ${errorData.description || 'Unknown error'}`;
            errorMessage.style.display = 'block';
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 3000);
        }
    } catch (error) {
        errorMessage.textContent = 'Network error. Please try again later.';
        errorMessage.style.display = 'block';
        setTimeout(() => {
            window.location.href = 'index.html';
        }, 3000);
    }
});
    </script>
</body>
</html>
